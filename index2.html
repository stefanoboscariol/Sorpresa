<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TANTI AUGURI FLA âœ¨</title>

<style>
*{box-sizing:border-box;}

body{
  margin:0;
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  background:linear-gradient(135deg,#89f7fe,#66a6ff);
  font-family:'Segoe UI',system-ui,-apple-system,sans-serif;
  overflow:hidden;
}

.card{
  background:#f0f8ff;
  width:90vw;
  max-width:420px;
  max-height:90vh;
  padding:2rem;
  border-radius:24px;
  box-shadow:0 20px 40px rgba(0,0,0,0.2);
  text-align:center;
  overflow-y:auto;
  animation:pop .5s ease;
}

@keyframes pop{
  from{transform:scale(.9);opacity:0}
  to{transform:scale(1);opacity:1}
}

.hidden{display:none}

h1{color:#2575fc;margin-bottom:1rem;font-size:1.9rem}
p{font-size:1.05rem;line-height:1.5;margin-bottom:1rem}

button{
  background:linear-gradient(135deg,#6a11cb,#2575fc);
  border:none;
  color:#fff;
  font-size:1rem;
  padding:.7rem 1.4rem;
  border-radius:999px;
  margin:.4rem;
}

button:active{transform:scale(.96)}

.choices button{padding:.6rem 1.1rem}

/* PUNTINI */
.dots{
  position:relative;
  width:100%;
  height:35vh;
  max-height:200px;
}

.dot{
  width:20px;
  height:20px;
  background:#2575fc;
  border-radius:50%;
  position:absolute;
}

/* TAP GAME */
#tapGrid{
  position:relative;
  width:100%;
  height:35vh;
  border:2px dashed #2575fc;
  border-radius:16px;
  overflow:hidden;
}

/* FINALE */
.fall{
  position:fixed;
  top:-30px;
  font-size:22px;
  animation:fall linear forwards;
}

@keyframes fall{
  to{transform:translateY(110vh);opacity:0}
}
</style>
</head>

<body>

<!-- LIVELLO 1 -->
<div class="card" id="lvl1">
  <h1>ğŸ‘‹ Ciao Flavietta!</h1>
  <p>
    Questa Ã¨ una piccola sorpresaâ€¦<br>
    ma per arrivare in fondo dovrai <b>guadagnartela</b> ğŸ˜‰
  </p>
  <button onclick="go('lvl1','lvl2')">Iniziamo ğŸ®</button>
</div>

<!-- LIVELLO 2 -->
<div class="card hidden" id="lvl2">
  <h1>ğŸ§© Livello 1</h1>
  <p>Unisci i puntini <b>in ordine</b> (1 â†’ 2 â†’ 3)</p>
  <p><i>Dai, Ã¨ piÃ¹ facile di un puzzle da bambini ğŸ˜„</i></p>
  <div class="dots">
    <div class="dot" style="top:70%;left:10%" onclick="hit(1)"></div>
    <div class="dot" style="top:20%;left:45%" onclick="hit(2)"></div>
    <div class="dot" style="top:70%;left:80%" onclick="hit(3)"></div>
  </div>
</div>

<!-- LIVELLO 3 -->
<div class="card hidden" id="lvl3">
  <h1>â• Livello 2</h1>
  <p>Concentrazione massima ğŸ§ </p>
  <p><b>Quanto fa 7 Ã— 6?</b></p>
  <div class="choices">
    <button onclick="wrong()">36</button>
    <button onclick="rightMath()">42</button>
    <button onclick="wrong()">48</button>
  </div>
  <p id="mathMsg"></p>
</div>

<!-- LIVELLO 4 -->
<div class="card hidden" id="lvl4">
  <h1>âš¡ Livello 3</h1>
  <p>
    Tocca tutti i fulmini che appaiono! âš¡<br>
    <small>Abbi pazienzaâ€¦ andrÃ  avanti da solo una volta trovati ğŸ˜‰</small>
  </p>
  <p><small>Hai <b>pochi secondi</b> per trovarne almeno <b>3</b>!</small></p>
  <div id="tapGrid"></div>
  <p id="tapMsg"></p>
</div>

<!-- LIVELLO 5 -->
<div class="card hidden" id="lvl5">
  <h1>ğŸ˜ Livello 4</h1>
  <p>Carino ehh? ğŸ™‚</p>
  <div class="choices">
    <button onclick="choiceWrong()">Nhaa ğŸ¤”</button>
    <button onclick="choiceRight()">Carino daiâ€¦ hihihi ğŸ‰</button>
  </div>
</div>

<!-- FINALE -->
<div class="card hidden" id="lvl6">
  <h1>ğŸ‰ Flaviaâ€¦ AUGURI! +17 ğŸ‰</h1>
  <p>
    Un altro capitolo sta per iniziare ğŸ†<br>
    Certo, non potrÃ  essere bello come lo scorso,<br>
    in cui ho fatto capolino io (hihihi),<br>
    ma proveremo a renderlo memorabileâ€¦<br><br>
    <b>AUGURI BELLISSIMA ğŸŒŸğŸ’™ğŸ«¶ğŸ»</b>
  </p>
  <button onclick="finale()">ğŸ† Guarda! ğŸ†</button>
</div>

<script>
function go(a,b){
  document.getElementById(a).classList.add('hidden');
  document.getElementById(b).classList.remove('hidden');
}

/* PUNTINI */
let step=1;
function hit(n){
  if(n!==step) return;
  step++;
  if(step===4) setTimeout(()=>go('lvl2','lvl3'),500);
}

/* MATEMATICA */
function wrong(){
  document.getElementById('mathMsg').textContent='Mhâ€¦ riprova, so che puoi ğŸ˜';
}
function rightMath(){
  document.getElementById('mathMsg').textContent='Perfetto! Sapevo ce lâ€™avresti fatta ğŸ˜';
  setTimeout(()=>go('lvl3','lvl4'),800);
}

/* TAP GAME */
function startTap(){
  const grid=document.getElementById('tapGrid');
  const msg=document.getElementById('tapMsg');
  grid.innerHTML='';
  msg.textContent='';
  let hits=0;

  for(let i=0;i<6;i++){
    const b=document.createElement('button');
    b.textContent='âš¡';
    b.style.position='absolute';
    b.style.left=Math.random()*80+'%';
    b.style.top=Math.random()*70+'%';
    b.style.background='transparent';
    b.style.border='none';
    b.style.fontSize='2rem';
    b.onclick=()=>{
      hits++;
      b.remove();
      if(hits>=3){
        msg.textContent='Perfetto! ğŸ˜„';
        setTimeout(()=>go('lvl4','lvl5'),700);
      }
    };
    grid.appendChild(b);
  }
}

const obs=new MutationObserver(()=>{
  if(!lvl4.classList.contains('hidden')) startTap();
});
obs.observe(lvl4,{attributes:true});

/* SCELTA */
function choiceWrong(){ alert('Mhâ€¦ ripensaci ğŸ˜'); }
function choiceRight(){ go('lvl5','lvl6'); }

/* FINALE */
function finale(){
  const emojis=['âš¡','ğŸ’™','ğŸ«¶ğŸ»'];
  for(let i=0;i<25;i++){
    const e=document.createElement('div');
    e.className='fall';
    e.textContent=emojis[Math.floor(Math.random()*emojis.length)];
    e.style.left=Math.random()*100+'vw';
    e.style.animationDuration=(3+Math.random()*3)+'s';
    document.body.appendChild(e);
    setTimeout(()=>e.remove(),6000);
  }
}
</script>

</body>
</html>
